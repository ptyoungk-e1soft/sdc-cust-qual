# 디스플레이 결함 분석 시스템 - 시연 스크립트

## 시연 개요

| 항목 | 내용 |
|------|------|
| 시스템명 | 디스플레이 결함 분석 시스템 |
| 핵심 기술 | Cosmos Reason VLM + GraphRAG |
| 시연 시간 | 약 15-20분 |
| 대상 | 기술 검토자 / 품질 관리 담당자 |

---

## 시연 순서

### 1단계: 시스템 소개 (3분)

**발표 내용:**
> "이 시스템은 NVIDIA Cosmos Reason VLM과 GraphRAG 기술을 결합하여
> 디스플레이 패널의 결함을 자동으로 탐지하고 근본 원인을 추론하는
> AI 기반 품질 검사 솔루션입니다."

**핵심 포인트:**
- 기존 AOI(자동광학검사) 대비 장점: 근본원인 추론 능력
- VLM의 `<think>` 태그를 활용한 추론 과정 가시화
- GraphRAG로 결함-원인-공정 관계 추적

---

### 2단계: 데모 화면 실행 (2분)

```bash
# 데모 실행 명령어
cd /home/ptyoung/sdc-cust-qual
./demo/run_demo.sh
```

**화면 설명:**
- 왼쪽: 이미지 업로드 영역 + 샘플 이미지 갤러리
- 오른쪽: AI 분석 결과 + GraphRAG 온톨로지 시각화
- 하단: Raw 모델 응답 (접기/펼치기)

---

### 3단계: 결함 분석 시연 (8분)

#### 시나리오 1: 라인 결함 분석

1. 샘플 이미지 선택 (synthetic_00042.png 등)
2. "분석 시작" 버튼 클릭
3. 결과 설명:

**설명 포인트:**
> "모델이 먼저 `<think>` 태그 안에서 이미지를 분석하고 추론합니다.
> '좌측 상단 영역에서 라인 결함 패턴이 관찰됩니다'와 같이
> 결함의 위치와 형태를 먼저 파악합니다.
>
> 그 다음 `<answer>` 태그에서 구조화된 결과를 출력합니다:
> - 결함 유형: 라인 결함
> - 위치: 좌측 상단
> - 심각도: HIGH
> - 추정 원인: 전극 터치 패턴과의 상호작용
> - 권장 조치: 균일한 전극 패턴 확인"

#### 시나리오 2: 다른 유형 결함 비교

- 휘점 결함 이미지 분석
- 무라(불균일) 이미지 분석
- 각 결함별 다른 원인과 조치 비교

---

### 4단계: GraphRAG 온톨로지 설명 (3분)

**시각화 영역 설명:**

```
[라인 결함] → CAUSED_BY → [전극 터치 패턴]
     │
     └── 관련 노드: 위치, 공정 파라미터, 권장 조치
```

**설명 포인트:**
> "GraphRAG 온톨로지는 결함과 근본원인 간의 관계를 그래프로 표현합니다.
> 이를 통해 단순 분류를 넘어 '왜 이 결함이 발생했는지'를 추론할 수 있습니다.
>
> 예를 들어, 같은 라인 결함이라도 발생 위치에 따라
> 원인이 '전극 패턴 문제'일 수도 있고 'TFT 구동 회로 결함'일 수도 있습니다.
> 시스템은 이런 복잡한 관계를 학습하여 정확한 원인을 추론합니다."

---

### 5단계: 기술 아키텍처 설명 (3분)

**"시스템 아키텍처" 섹션 펼치기**

**핵심 기술 설명:**

| 구성요소 | 설명 |
|----------|------|
| **Cosmos Reason VLM** | NVIDIA의 7B 파라미터 비전-언어 모델. 이미지를 이해하고 자연어로 분석 결과 생성 |
| **LoRA Fine-tuning** | 전체 모델의 2.24%만 학습하여 효율적으로 도메인 특화. r=64, alpha=128 |
| **GraphRAG** | Neo4j 기반 지식 그래프. 결함-원인-공정 관계를 저장하고 추론에 활용 |

---

### 6단계: Q&A 및 마무리 (2분)

**예상 질문 및 답변:**

**Q: 실제 불량 이미지로 학습하면 정확도가 얼마나 향상되나요?**
> A: 현재는 합성 데이터로 학습했습니다. 실제 불량 이미지 1,000장 이상으로
> 학습하면 90% 이상의 정확도를 기대할 수 있습니다.

**Q: 처리 속도는 어떻게 되나요?**
> A: 단일 이미지 기준 약 3초입니다. 배치 처리 시 8장을 15초에 처리 가능합니다.

**Q: 기존 AOI 시스템과 어떻게 연동하나요?**
> A: REST API를 제공하므로 기존 시스템에서 이미지와 함께 API 호출만 하면 됩니다.
> 결과는 JSON 형식으로 반환되어 기존 MES 시스템과 쉽게 연동 가능합니다.

---

## 시연 체크리스트

### 사전 준비

- [ ] Docker 컨테이너 사전 실행하여 모델 로딩 완료
- [ ] 샘플 이미지 10장 확인
- [ ] 네트워크 연결 상태 확인 (모델 다운로드 필요 시)
- [ ] GPU 메모리 여유 확인 (최소 16GB)

### 시연 중

- [ ] 각 분석에 3-5초 대기 시간 안내
- [ ] 결과 화면 충분히 설명
- [ ] GraphRAG 시각화 강조

### 비상 대책

- 모델 로딩 실패 시: "실제 모델 사용" 체크 해제하고 시뮬레이션 모드로 시연
- 네트워크 오류 시: 로컬 캐시된 모델 사용

---

## 핵심 메시지

1. **추론 능력**: 단순 분류가 아닌 "왜?"를 설명하는 AI
2. **도메인 특화**: LoRA로 적은 데이터로도 빠르게 특화 가능
3. **확장성**: GraphRAG로 지식을 체계적으로 확장
4. **실용성**: REST API로 기존 시스템과 쉽게 연동

---

## 데모 URL

```
로컬 실행: http://localhost:7860
```
